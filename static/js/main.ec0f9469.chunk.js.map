{"version":3,"sources":["VoltorbFlipGrid.ts","PButton.tsx","Cell.tsx","Stats.tsx","VoltorbFlip.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["GridState","PButton","props","className","disabled","click","undefined","onClick","children","createArray","value","length","Array","fill","createGrid","size","numVoltorbs","numTwos","numThrees","numOnes","levelParameters","level","cellsOptions","VoltorbFlipGrid","grid","this","cells","flatMap","row","some","c","flipped","Lost","filter","every","Won","Pending","col","getRow","map","reduce","i","j","getCol","cellsAreDead","flippedCells","newGrid","parameters","find","p","randomFrom","shuffleArray","newRow","push","VoltorbFlipCell","arr","Math","floor","random","Cell","cell","parentClassName","contents","voltorbImage","process","gridState","src","alt","showDead","flipCell","Stats","total","a","b","voltorbCount","VoltorbFlip","useState","showDeadCells","setShowDeadCells","renderCell","getCell","getState","rowIsDead","colIsDead","range","style","textAlign","streak","score","getScore","renderGridState","state","Popup","content","position","mouseEnterDelay","trigger","nextLevel","reset","label","checked","onChange","e","data","renderGridOptions","max","from","_","create","App","setLevel","setScore","setStreak","setGrid","flip","newLevel","newStreak","min","numFlippedMultipliers","getNumberOfFlippedMultipliers","href","title","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ec0f9469.chunk.js","sourcesContent":["const createArray = (value: number, length: number) => new Array(length).fill(value)\r\n\r\nconst createGrid = (size: number, numVoltorbs: number, numTwos: number, numThrees: number) => {\r\n    let numOnes = size * size - (numVoltorbs + numTwos + numThrees)\r\n\r\n    return [\r\n        ...createArray(0, numVoltorbs),\r\n        ...createArray(1, numOnes),\r\n        ...createArray(2, numTwos),\r\n        ...createArray(3, numThrees),\r\n    ]\r\n}\r\n\r\n// https://bulbapedia.bulbagarden.net/wiki/Voltorb_Flip\r\nconst levelParameters = [\r\n    {\r\n        level: 1,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 6, 3, 1),\r\n            createGrid(5, 6, 0, 3),\r\n            createGrid(5, 6, 5, 0),\r\n            createGrid(5, 6, 2, 2),\r\n            createGrid(5, 6, 4, 1),\r\n        ],\r\n    },\r\n    {\r\n        level: 2,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 7, 1, 3),\r\n            createGrid(5, 7, 6, 0),\r\n            createGrid(5, 7, 3, 2),\r\n            createGrid(5, 7, 0, 4),\r\n            createGrid(5, 7, 5, 1),\r\n        ],\r\n    },\r\n    {\r\n        level: 3,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 8, 2, 3),\r\n            createGrid(5, 8, 7, 0),\r\n            createGrid(5, 8, 4, 2),\r\n            createGrid(5, 8, 1, 4),\r\n            createGrid(5, 8, 6, 1),\r\n        ],\r\n    },\r\n    {\r\n        level: 4,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 8, 3, 3),\r\n            createGrid(5, 8, 0, 5),\r\n            createGrid(5, 10, 8, 0),\r\n            createGrid(5, 10, 5, 2),\r\n            createGrid(5, 10, 2, 4),\r\n        ],\r\n    },\r\n    {\r\n        level: 5,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 10, 7, 1),\r\n            createGrid(5, 10, 4, 3),\r\n            createGrid(5, 10, 1, 5),\r\n            createGrid(5, 10, 9, 0),\r\n            createGrid(5, 10, 6, 2),\r\n        ],\r\n    },\r\n    {\r\n        level: 6,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 10, 3, 4),\r\n            createGrid(5, 10, 0, 6),\r\n            createGrid(5, 10, 8, 1),\r\n            createGrid(5, 10, 5, 3),\r\n            createGrid(5, 10, 2, 5),\r\n        ],\r\n    },\r\n    {\r\n        level: 7,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 10, 7, 2),\r\n            createGrid(5, 10, 4, 4),\r\n            createGrid(5, 13, 1, 6),\r\n            createGrid(5, 13, 9, 1),\r\n            createGrid(5, 10, 6, 3),\r\n        ],\r\n    },\r\n    {\r\n        level: 8,\r\n        size: 5,\r\n        cellsOptions: [\r\n            createGrid(5, 10, 0, 7),\r\n            createGrid(5, 10, 8, 2),\r\n            createGrid(5, 10, 5, 4),\r\n            createGrid(5, 10, 2, 6),\r\n            createGrid(5, 10, 7, 3),\r\n        ],\r\n    },\r\n]\r\n\r\nexport enum GridState {\r\n    Pending,\r\n    Won,\r\n    Lost,\r\n}\r\n\r\nexport class VoltorbFlipGrid {\r\n    grid: VoltorbFlipCell[][]\r\n\r\n    constructor(grid: VoltorbFlipCell[][]) {\r\n        this.grid = grid\r\n    }\r\n\r\n    static create(level: number) {\r\n        let newGrid = []\r\n\r\n        let parameters = levelParameters.find(p => p.level === level)!\r\n\r\n        let cells = randomFrom(parameters.cellsOptions)\r\n\r\n        shuffleArray(cells)\r\n\r\n        for (let i = 0; i < parameters.size; i++) {\r\n            let newRow: VoltorbFlipCell[] = []\r\n\r\n            for (let j = 0; j < parameters.size; j++) {\r\n                let value = cells[i * parameters.size + j]\r\n                newRow.push(new VoltorbFlipCell(value))\r\n            }\r\n\r\n            newGrid.push(newRow)\r\n        }\r\n\r\n        return new VoltorbFlipGrid(newGrid)\r\n    }\r\n\r\n    size() {\r\n        return this.grid.length\r\n    }\r\n\r\n    getState() {\r\n        let cells = this.grid.flatMap(row => row)\r\n        if (cells.some(c => c.value === 0 && c.flipped)) {\r\n            return GridState.Lost\r\n        }\r\n\r\n        if (cells.filter(c => c.value > 1).every(c => c.flipped)) {\r\n            return GridState.Won\r\n        }\r\n\r\n        return GridState.Pending\r\n    }\r\n\r\n    getCell(row: number, col: number) {\r\n        return this.grid[row][col]\r\n    }\r\n\r\n    getRow(row: number) {\r\n        return this.grid[row]\r\n    }\r\n\r\n    getRowTotal(row: number) {\r\n        return this.getRow(row).map(c => c.value).reduce((i, j) => i + j)\r\n    }\r\n\r\n    getCol(col: number) {\r\n        return this.grid.map(row => row[col])\r\n    }\r\n\r\n    getColTotal(col: number) {\r\n        let cellValues = this.getCol(col).map(c => c.value)\r\n        return cellValues.reduce((i, j) => i + j)\r\n    }\r\n\r\n    countVoltorbsInRow(row: number) {\r\n        return this.grid[row].filter(c => c.value === 0).length\r\n    }\r\n\r\n    countVoltorbsInCol(col: number) {\r\n        let cellValues = this.grid.map(row => row[col]).map(c => c.value)\r\n        return cellValues.filter(i => i === 0).length\r\n    }\r\n\r\n    rowIsDead(row: number) {\r\n        return this.cellsAreDead(this.grid[row])\r\n    }\r\n\r\n    colIsDead(col: number) {\r\n        return this.cellsAreDead(this.grid.map(row => row[col]))\r\n    }\r\n\r\n    private cellsAreDead(cells: VoltorbFlipCell[]) {\r\n        let numVoltorbs = cells.filter(c => c.value === 0).length\r\n        let sum = cells.map(c => c.value).reduce((i, j) => i + j)\r\n        let numTwosFlipped = cells.filter(c => c.value === 2 && c.flipped).length\r\n        let numThreesFlipped = cells.filter(c => c.value === 3 && c.flipped).length\r\n\r\n        return numVoltorbs + sum - 5 <= numTwosFlipped + 2 * numThreesFlipped\r\n    }\r\n\r\n    getScore() {\r\n        let flippedCells = this.grid.flatMap(row => row).filter(c => c.flipped)\r\n        if (flippedCells.length <= 0) {\r\n            return 0\r\n        }\r\n\r\n        return flippedCells.map(c => c.value).reduce((i, j) => i * j)\r\n    }\r\n\r\n    getNumberOfFlippedMultipliers() {\r\n        return this.grid.flatMap(row => row).filter(c => c.value > 0 && c.flipped).length\r\n    }\r\n}\r\n\r\nexport class VoltorbFlipCell {\r\n    value: number\r\n    flipped: boolean\r\n\r\n    constructor(value: number) {\r\n        this.value = value\r\n        this.flipped = false\r\n    }\r\n\r\n    flip() {\r\n        this.flipped = true\r\n    }\r\n}\r\n\r\nconst randomFrom = <T>(arr: T[]) => arr[Math.floor(Math.random() * arr.length)]\r\n\r\n// https://stackoverflow.com/a/12646864\r\nconst shuffleArray = (arr: number[]) => {\r\n    for (let i = arr.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [arr[i], arr[j]] = [arr[j], arr[i]]\r\n    }\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\n\r\ninterface PButtonProps {\r\n    className?: string\r\n    disabled?: boolean\r\n    onClick?: () => void\r\n}\r\n\r\nexport const PButton = (props: PropsWithChildren<PButtonProps>) => {\r\n    let className = \"pbutton\"\r\n\r\n    if (props.className) {\r\n        className += ` ${props.className}`\r\n    }\r\n\r\n    if (props.disabled) {\r\n        className += \" disabled\"\r\n    }\r\n\r\n    const click = props.disabled ? undefined : props.onClick\r\n\r\n    return (\r\n        <div className={className} onClick={click}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import { PButton } from \"./PButton\"\r\nimport { GridState, VoltorbFlipCell } from \"./VoltorbFlipGrid\"\r\n\r\ninterface CellProps {\r\n    cell: VoltorbFlipCell\r\n    gridState: GridState\r\n    showDead: boolean\r\n    flipCell: () => void\r\n}\r\n\r\nexport const Cell = (props: CellProps) => {\r\n    let cell = props.cell\r\n\r\n    let parentClassName = \"flip-grid-cell\"\r\n\r\n    let contents = <span>?</span>\r\n    let className = \"cell-button\"\r\n\r\n    let voltorbImage = process.env.PUBLIC_URL + \"/voltorb.png\"\r\n\r\n    let finished = props.gridState !== GridState.Pending\r\n\r\n    if (finished) {\r\n        contents = <span>{cell.value}</span>\r\n        className += \" shown\"\r\n\r\n        if (cell.value === 0) {\r\n            contents = <img src={voltorbImage} alt=\"voltorb\" />\r\n            className += \" voltorb\"\r\n        }\r\n    }\r\n    else if (props.showDead) {\r\n        parentClassName += \" dead\"\r\n    }\r\n\r\n    if (cell.flipped) {\r\n        contents = <span>{cell.value}</span>\r\n        className += \" flipped\"\r\n\r\n        if (cell.value === 0) {\r\n            contents = <img src={voltorbImage} alt=\"voltorb\" />\r\n            className += \" voltorb\"\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={parentClassName}>\r\n            <PButton className={className} onClick={props.flipCell}>\r\n                {contents}\r\n            </PButton>\r\n        </div>\r\n    )\r\n}\r\n","import { VoltorbFlipCell } from \"./VoltorbFlipGrid\"\r\n\r\ninterface StatsProps {\r\n    cells: VoltorbFlipCell[]\r\n}\r\n\r\nexport const Stats = (props: StatsProps) => {\r\n    let total = props.cells.map(a => a.value).reduce((a, b) => a + b)\r\n    let voltorbCount = props.cells.filter(a => a.value === 0).length\r\n\r\n    return (\r\n        <div className=\"flip-grid-cell\">\r\n            <div className=\"stats\">\r\n                <div>{total}, {voltorbCount}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { useState } from \"react\"\r\nimport { Popup } from \"semantic-ui-react\"\r\nimport Checkbox from \"semantic-ui-react/dist/commonjs/modules/Checkbox\"\r\n\r\nimport { Cell } from \"./Cell\"\r\nimport { PButton } from \"./PButton\"\r\nimport { Stats } from \"./Stats\"\r\nimport { GridState, VoltorbFlipGrid } from \"./VoltorbFlipGrid\"\r\n\r\ninterface VoltorbFlipProps {\r\n    level: number\r\n    streak: number\r\n    score: number\r\n    grid: VoltorbFlipGrid\r\n    flipCell: (row: number, col: number) => void\r\n    nextLevel: (grid: VoltorbFlipGrid) => void\r\n    reset: () => void\r\n}\r\n\r\nexport const VoltorbFlip = (props: VoltorbFlipProps) => {\r\n    const [showDeadCells, setShowDeadCells] = useState(false)\r\n\r\n    const renderGrid = (grid: VoltorbFlipGrid) => {\r\n        return (\r\n            <div>\r\n                {range(grid.size()).map(i => (\r\n                    <div className=\"flip-grid-row\">\r\n                        {range(grid.size()).map(j => renderCell(grid, i, j))}\r\n\r\n                        <Stats cells={grid.getRow(i)} />\r\n                    </div>\r\n                ))}\r\n\r\n                <div className=\"flip-grid-row\">\r\n                    {range(grid.size()).map(j => <Stats cells={grid.getCol(j)} />)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderCell = (grid: VoltorbFlipGrid, row: number, col: number) => {\r\n        let cell = grid.getCell(row, col)\r\n        let gridState = grid.getState()\r\n        let showDead = !cell.flipped && showDeadCells && (grid.rowIsDead(row) || grid.colIsDead(col))\r\n\r\n        const flipCell = () => props.flipCell(row, col)\r\n\r\n        return <Cell cell={cell} gridState={gridState} showDead={showDead} flipCell={flipCell} />\r\n    }\r\n\r\n    const renderGridState = (grid: VoltorbFlipGrid) => (\r\n        <div className=\"grid-state\">\r\n            <div style={{ textAlign: \"start\" }}>\r\n                <div>\r\n                    Level: {props.level}\r\n                </div>\r\n\r\n                <div>\r\n                    Streak: {props.streak}\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ textAlign: \"end\" }}>\r\n                <div>\r\n                    Coins: {props.score}\r\n                </div>\r\n\r\n                <div>\r\n                    Coins this round: {grid?.getScore() ?? 0}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    const renderGridOptions = (grid: VoltorbFlipGrid) => {\r\n        let state = grid?.getState()\r\n\r\n        return (\r\n            <div className=\"grid-options\">\r\n                <Popup\r\n                    content=\"Move to the next level!\"\r\n                    position=\"bottom left\"\r\n                    mouseEnterDelay={500}\r\n                    disabled={state === GridState.Pending}\r\n                    trigger={\r\n                    <PButton\r\n                        disabled={state === GridState.Pending}\r\n                        onClick={() => props.nextLevel(grid)}>\r\n                        Next Level\r\n                    </PButton>\r\n                } />\r\n\r\n                <Popup\r\n                    content=\"Start a new game from level 1.\"\r\n                    position=\"bottom center\"\r\n                    mouseEnterDelay={500}\r\n                    trigger={\r\n                    <PButton\r\n                        onClick={props.reset}>\r\n                        Reset\r\n                    </PButton>\r\n                } />\r\n\r\n                <Popup\r\n                    content=\"Highlight cells that MUST contain either 1 coin or a Voltorb, based on current information.\"\r\n                    position=\"bottom right\"\r\n                    mouseEnterDelay={500}\r\n                    disabled={state !== GridState.Pending}\r\n                    trigger={\r\n                    <Checkbox\r\n                        className=\"option-checkbox\"\r\n                        label=\"Show dead cells\"\r\n                        disabled={state !== GridState.Pending}\r\n                        checked={showDeadCells}\r\n                        onChange={(e, data) => setShowDeadCells(data.checked ?? false)} />\r\n                } />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            {renderGrid(props.grid)}\r\n            {renderGridState(props.grid)}\r\n            {renderGridOptions(props.grid)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst range = (max: number) => Array.from(new Array(max), (_, i) => i)\r\n","import { useState } from \"react\"\r\n\r\nimport { VoltorbFlip } from \"./VoltorbFlip\"\r\nimport { GridState, VoltorbFlipGrid } from \"./VoltorbFlipGrid\"\r\n\r\nimport \"./App.css\"\r\n\r\nconst newGrid = (level: number) => VoltorbFlipGrid.create(level)\r\n\r\nconst App = () => {\r\n    const [level, setLevel] = useState(1)\r\n    const [score, setScore] = useState(0)\r\n    const [streak, setStreak] = useState(0)\r\n    const [grid, setGrid] = useState(newGrid(level))\r\n\r\n    const flipCell = (row: number, col: number) => {\r\n        grid.getCell(row, col).flip()\r\n        setGrid(new VoltorbFlipGrid(grid.grid))\r\n    }\r\n\r\n    // https://bulbapedia.bulbagarden.net/wiki/Voltorb_Flip\r\n    const nextLevel = (grid: VoltorbFlipGrid) => {\r\n        let newLevel = level\r\n        let newStreak = 0\r\n\r\n        let state = grid.getState()\r\n        if (state === GridState.Won) {\r\n            newStreak = streak + 1\r\n\r\n            if (newStreak >= 5) {\r\n                newLevel = 8\r\n            }\r\n            else {\r\n                newLevel = Math.min(8, level + 1)\r\n            }\r\n\r\n            setScore(score + grid.getScore())\r\n        }\r\n\r\n        if (state === GridState.Lost) {\r\n            let numFlippedMultipliers = grid.getNumberOfFlippedMultipliers()\r\n            if (numFlippedMultipliers < level) {\r\n                newLevel = Math.max(1, Math.min(8, level, numFlippedMultipliers))\r\n            }\r\n        }\r\n\r\n        setLevel(newLevel)\r\n        setStreak(newStreak)\r\n        setGrid(newGrid(newLevel))\r\n    }\r\n\r\n    const reset = () => {\r\n        setLevel(1)\r\n        setStreak(0)\r\n        setGrid(newGrid(1))\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <header className=\"App-header\">\r\n                <h1>Voltorb Flip</h1>\r\n\r\n                <h4>A clone of the beloved mini-game from Pok&eacute;mon HeartGold and SoulSilver.</h4>\r\n\r\n                <VoltorbFlip\r\n                    level={level}\r\n                    streak={streak}\r\n                    score={score}\r\n                    grid={grid}\r\n                    flipCell={flipCell}\r\n                    nextLevel={nextLevel}\r\n                    reset={reset} />\r\n            </header>\r\n\r\n            <footer>\r\n                <a href=\"https://www.icons101.com/icon/id_60093/setid_928/Pokemon_by_HEKTakun/100_Voltorb\" title=\"voltorb icon\">Voltorb icon created by HEKTakun - Icons101</a>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import { ReportHandler } from \"web-vitals\"\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry)\r\n      getFID(onPerfEntry)\r\n      getFCP(onPerfEntry)\r\n      getLCP(onPerfEntry)\r\n      getTTFB(onPerfEntry)\r\n    })\r\n  }\r\n}\r\n\r\nexport default reportWebVitals\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./index.css\"\r\nimport App from \"./App\"\r\nimport reportWebVitals from \"./reportWebVitals\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}